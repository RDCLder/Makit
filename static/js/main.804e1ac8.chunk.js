(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},51:function(e,t,a){e.exports=a(96)},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),l=a.n(c),i=a(30),s=a(15),o=a(103),u=a(104),m=a(105),d=a(7),E=a(8),p=a(11),h=a(9),f=a(12),g=a(99),b=a(97),N=a(98),v=function(){return{type:"RESET"}},y=(a(23),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,{id:"header"},r.a.createElement(N.a,{to:"/",className:"headerTab"},r.a.createElement("h2",null,"MAKIT")),r.a.createElement(N.a,{to:"/",className:"headerTab"},r.a.createElement("h4",null,"Link")),r.a.createElement("div",{className:"headerTab"},r.a.createElement("h4",null,"|")),r.a.createElement(N.a,{to:"/ingredients",className:"headerTab"},r.a.createElement("h4",null,"Ingredients")),r.a.createElement("div",{className:"headerTab"},r.a.createElement("h4",null,"|")),r.a.createElement(N.a,{to:"/recipes",className:"headerTab"},r.a.createElement("h4",null,"Recipes")),r.a.createElement("div",{className:"headerTab"},r.a.createElement("h4",null,"|")),r.a.createElement(N.a,{to:"/locations",className:"headerTab"},r.a.createElement("h4",null,"Locations")),r.a.createElement("div",{className:"headerTab"},r.a.createElement("h4",null,"|")),r.a.createElement(N.a,{to:"/",className:"headerTab",onClick:this.props.eventReset},r.a.createElement("h4",null,"Reset"))),r.a.createElement(N.a,{to:"/"},r.a.createElement("button",{type:"button",className:"btn floatButton",id:"linkButton"},r.a.createElement("i",{className:"fas fa-camera"}))),r.a.createElement(N.a,{to:"/ingredients"},r.a.createElement("button",{type:"button",className:"btn floatButton",id:"ingredientsButton"},r.a.createElement("i",{className:"fas fa-egg"}))),r.a.createElement(N.a,{to:"/recipes"},r.a.createElement("button",{type:"button",className:"btn floatButton",id:"recipesButton"},r.a.createElement("i",{className:"fas fa-book-open"}))),r.a.createElement(N.a,{to:"/locations"},r.a.createElement("button",{type:"button",className:"btn floatButton",id:"locationsButton"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}))),r.a.createElement(N.a,{to:"/",onClick:this.props.eventReset},r.a.createElement("button",{type:"button",className:"btn floatButton",id:"resetButton"},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement(b.a,{id:"footer"},r.a.createElement("h4",null,"Powered by ",r.a.createElement("a",{href:"https://clarifai.com/",target:"_blank",rel:"noopener noreferrer"},"Clarifai")," and ",r.a.createElement("a",{href:"https://www.edamam.com/",target:"_blank",rel:"noopener noreferrer"},"Edamam"))))}}]),t}(r.a.Component));var I=Object(s.b)(function(e){return{source:e.source,ingredients:e.ingredients}},function(e){return{eventReset:function(){return e(v())}}})(y),O=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{fluid:"true",id:"baseContainer"},r.a.createElement(I,null),this.props.children)}}]),t}(r.a.Component),j=a(22),k=function(e,t){return{type:"INGREDIENT_RESULTS",source:e,ingredients:t}},T=a(33),C=a.n(T),S=new C.a.App({apiKey:"bb889326557142e19e9f735c30c1bce9"}),R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmitImage=a.handleSubmitImage.bind(Object(j.a)(a)),a.handleSubmitVideo=a.handleSubmitVideo.bind(Object(j.a)(a)),a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmitImage",value:function(){var e=this;S.models.initModel({id:C.a.FOOD_MODEL,version:"aa7f35c01e0642fda5cf400f543e7c40"}).then(function(t){return t.predict(e.state.value)}).then(function(t){var a=t.outputs[0].data.concepts.filter(function(e){return e.value>=.9&&!["no person","breakfast","lunch","dinner","unhealthy","ready","nutrition","food","delicious","cooking"].includes(e.name)}),n={type:"image",link:e.state.value};e.props.eventIngredientResults(n,a)}).then(function(){e.props.history.push("/ingredients")})}},{key:"handleSubmitVideo",value:function(){var e=this;S.models.predict(C.a.FOOD_MODEL,this.state.value,{video:!0,sampleMs:1e3}).then(function(t){var a=t.outputs[0].data.frames;a.forEach(function(e){console.log("Concepts in frame at time: "+e.frame_info.time+"ms"),e.data.concepts.forEach(function(e){console.log(" "+e.name+" "+e.value)})}),a=a.filter(function(e){return e.value>=.9&&!["no person","breakfast","lunch","dinner","unhealthy","ready","nutrition","food","delicious","cooking"].includes(e.name)});var n={type:"video",link:e.state.value};e.props.eventSearchResults(n,a)}).then(function(){e.props.history.push("/ingredients")}).catch(function(e){console.log("Error status code: "+e.data.status.code),console.log("Error description: "+e.data.status.description),e.data.status.details&&console.log("Error details: "+e.data.status.details)})}},{key:"render",value:function(){return r.a.createElement(g.a,{className:"homeContainer"},r.a.createElement(b.a,{className:"row justify-content-center",id:"topRow"},r.a.createElement("h3",null,"Image/Video Link")),r.a.createElement(b.a,{className:"row justify-content-center"},r.a.createElement("h5",null,"Give me an image or video of food, and I'll guess its ingredients!")),r.a.createElement(b.a,{className:"row justify-content-center"},r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,placeholder:"Image/Video Link",id:"inputLink"})),r.a.createElement(b.a,{className:"row justify-content-center"},r.a.createElement("button",{className:"submitButton",onClick:this.handleSubmitImage},"IMAGE"),r.a.createElement("button",{className:"submitButton",onClick:this.handleSubmitVideo},"VIDEO")))}}]),t}(r.a.Component);var D=Object(s.b)(function(e){return{source:e.source,ingredients:e.ingredients}},function(e){return{eventIngredientResults:function(t,a){return e(k(t,a))}}})(R),_=a(21),w=a(100),A=function(e){return{type:"ADD_INGREDIENT",ingredient:e}},B=function(e){return{type:"DELETE_INGREDIENT",ingredient:e}},L=function(e,t){return{type:"RECIPE_RESULTS",data:{ingredient:e,recipes:t}}},V=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={addIngredient:{name:"",value:""}},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"changeIngredientName",value:function(e){this.setState(Object(_.a)({},this.state,{addIngredient:{name:e.target.value,value:"Added"}}))}},{key:"handleSubmitIngredient",value:function(e){""!==e?this.props.eventAddIngredient(this.state.addIngredient):alert("The ingredient name can't be empty!")}},{key:"handleSubmitRecipe",value:function(e){var t=this;fetch("https://api.edamam.com/search?q="+e.name+"&app_id=9fd06046&app_key=74c9048050e33fbbe8fea9373d038cf4&from=0&to=15").then(function(e){return e.json()}).then(function(a){var n=a.hits.map(function(e){return e.recipe});console.log(n),t.props.eventRecipeResults(e,n)}).then(function(){t.props.history.push("/recipes")})}},{key:"render",value:function(){var e,t=this;return e=""===this.props.source.link?r.a.createElement(N.a,{to:"/"},r.a.createElement("button",{className:"ingredientsButton"},r.a.createElement("h4",null,"Add Image/Video"))):r.a.createElement("img",{src:this.props.source.link,id:"sourceImage",alt:""}),r.a.createElement(g.a,{className:"ingredientsContainer"},r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement("h3",null,"Ingredients")),r.a.createElement(b.a,null,r.a.createElement(w.a,null,r.a.createElement(b.a,{className:"justify-content-center mb-1"},r.a.createElement("h4",null,"Image/Video")),e),r.a.createElement(w.a,null,r.a.createElement(b.a,null,r.a.createElement(w.a,null,r.a.createElement("h4",null,"Ingredient")),r.a.createElement(w.a,null,r.a.createElement("h4",null,"Probability")),r.a.createElement(w.a,null,r.a.createElement("h4",null,"Options"))),r.a.createElement(b.a,null,r.a.createElement(w.a,{className:"my-auto"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"addIngredientInput",onChange:function(e){return t.changeIngredientName(e)}})),r.a.createElement(w.a,{className:"my-auto"},"Added"),r.a.createElement(w.a,{className:"my-auto"},r.a.createElement("button",{onClick:function(){return t.handleSubmitIngredient(t.state.addIngredient.name)},className:"ingredientsOption"},r.a.createElement("i",{className:"fas fa-plus"})))),this.props.ingredients.map(function(e){return r.a.createElement(b.a,{key:e.name},r.a.createElement(w.a,{className:"my-auto"},e.name),r.a.createElement(w.a,{className:"my-auto"},e.value),r.a.createElement(w.a,{className:"my-auto"},r.a.createElement("button",{onClick:function(){return t.handleSubmitRecipe(e)},className:"ingredientsOption"},r.a.createElement("i",{className:"fas fa-book-open"})),r.a.createElement("button",{onClick:function(){return t.props.eventDeleteIngredient(e)},className:"ingredientsDelete"},r.a.createElement("i",{className:"fas fa-times"}))))}))))}}]),t}(r.a.Component);var x=Object(s.b)(function(e){return{source:e.source,ingredients:e.ingredients}},function(e){return{eventAddIngredient:function(t){return e(A(t))},eventDeleteIngredient:function(t){return e(B(t))},eventRecipeResults:function(t,a){return e(L(t,a))}}})(V),G=a(101),M=a(102),U=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{className:"nothingContainer"},r.a.createElement("h3",null,"There's Nothing Here!"),r.a.createElement(b.a,null),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(N.a,{to:"/"},r.a.createElement("button",{className:"nothingButton"},r.a.createElement("h4",null,"Add Image/Video")))),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(N.a,{to:"/ingredients"},r.a.createElement("button",{className:"nothingButton"},r.a.createElement("h4",null,"Add Ingredient")))))}}]),t}(r.a.Component),P=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={ingredient:a.props.recipes.ingredient,recipes:a.props.recipes.recipes},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"addDefaultSrc",value:function(e){e.target.src="../../public/noImage.jpg"}},{key:"render",value:function(){var e=this;if(this.state.recipes.length>0){var t=this.state.ingredient.name;return t=t[0].toUpperCase()+t.slice(1),r.a.createElement(g.a,{className:"recipesContainer"},r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement("h3",null,t," Recipes")),r.a.createElement(b.a,null,r.a.createElement(G.a,null,this.state.recipes.map(function(t){return r.a.createElement("a",{href:t.shareAs,target:"_blank",rel:"noopener noreferrer",key:t.label},r.a.createElement(M.a,{className:"text-white bg-dark"},r.a.createElement(M.a.Img,{src:t.image,alt:"",onError:e.addDefaultSrc,className:"cardImage"}),r.a.createElement(M.a.ImgOverlay,{className:"imgOverlay"},r.a.createElement(M.a.Title,{className:"cardText"},t.label),r.a.createElement(b.a,{className:"cardIngredients"},t.ingredientLines.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement("p",{className:"cardText"},e))})),r.a.createElement(b.a,{className:"cardFooter justify-content-around"},r.a.createElement("p",{className:"cardText"},"Calories: ",Math.floor(t.calories/t.yield)," "),r.a.createElement("p",{className:"cardText"},"Servings: ",Math.floor(t.yield))))))}))))}return r.a.createElement(U,null)}}]),t}(r.a.Component);var X=Object(s.b)(function(e){return{source:e.source,ingredients:e.ingredients,recipes:e.recipes}},function(e){return{}})(P),F=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={addIngredient:{name:"",value:""}},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"changeIngredientName",value:function(e){this.setState(Object(_.a)({},this.state,{addIngredient:{name:e.target.value,value:"Added"}}))}},{key:"handleSubmitIngredient",value:function(e){""!==e?this.props.eventAddIngredient(this.state.addIngredient):alert("The ingredient name can't be empty!")}},{key:"render",value:function(){var e,t=this;return e=""===this.props.source.link?r.a.createElement(N.a,{to:"/"},r.a.createElement("button",{className:"ingredientsButton"},r.a.createElement("h4",null,"Add Image/Video"))):r.a.createElement("img",{src:this.props.source.link,id:"sourceImage",alt:""}),r.a.createElement(g.a,{className:"locationsContainer"},r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement("h3",null,"Locations")),r.a.createElement(b.a,null,r.a.createElement(w.a,null,r.a.createElement(b.a,{className:"justify-content-center mb-1"},r.a.createElement("h4",null,"Image/Video")),e),r.a.createElement(w.a,null,r.a.createElement(b.a,null,r.a.createElement(w.a,null,r.a.createElement("h4",null,"Ingredient")),r.a.createElement(w.a,null,r.a.createElement("h4",null,"Probability")),r.a.createElement(w.a,null,r.a.createElement("h4",null,"Options"))),r.a.createElement(b.a,null,r.a.createElement(w.a,{className:"my-auto"},r.a.createElement("input",{type:"text",placeholder:"Name",id:"addIngredientInput",onChange:function(e){return t.changeIngredientName(e)}})),r.a.createElement(w.a,{className:"my-auto"},"Added"),r.a.createElement(w.a,{className:"my-auto"},r.a.createElement("button",{onClick:function(){return t.handleSubmitIngredient(t.state.addIngredient.name)},className:"ingredientsOption"},r.a.createElement("i",{className:"fas fa-plus"})))),this.props.ingredients.map(function(e){return r.a.createElement(b.a,{key:e.name},r.a.createElement(w.a,{className:"my-auto"},e.name),r.a.createElement(w.a,{className:"my-auto"},e.value),r.a.createElement(w.a,{className:"my-auto"},r.a.createElement("a",{href:"https://www.google.com/maps/search/".concat(e.name,"/"),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{className:"ingredientsOption"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}))),r.a.createElement("button",{onClick:function(){return t.props.eventDeleteIngredient(e)},className:"ingredientsDelete"},r.a.createElement("i",{className:"fas fa-times"}))))}))))}}]),t}(r.a.Component);var J=Object(s.b)(function(e){return{source:e.source,ingredients:e.ingredients}},function(e){return{eventAddIngredient:function(t){return e(A(t))},eventDeleteIngredient:function(t){return e(B(t))}}})(F),K=a(50),q=function(e,t){if(void 0===e)return{source:{type:"",link:""},ingredients:[],recipes:{ingredient:"",recipes:[]},locations:[]};switch(t.type){case"INGREDIENT_RESULTS":return Object(_.a)({},e,{source:{type:t.source.type,link:t.source.link},ingredients:t.ingredients});case"ADD_INGREDIENT":return Object(_.a)({},e,{ingredients:[t.ingredient].concat(Object(K.a)(e.ingredients))});case"DELETE_INGREDIENT":var a=e.ingredients.slice(),n=a.indexOf(t.ingredient);return a.splice(n,1),Object(_.a)({},e,{ingredients:a});case"RECIPE_RESULTS":return Object(_.a)({},e,{recipes:t.data});case"RESET":return{source:{type:"",link:""},ingredients:[],recipes:{ingredient:"",recipes:[]},locations:[]};default:return e}},H=Object(i.b)(q,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(s.a,{store:H},r.a.createElement(o.a,null,r.a.createElement(O,null,r.a.createElement(u.a,null,r.a.createElement(m.a,{exact:!0,path:"/",component:D}),r.a.createElement(m.a,{path:"/ingredients",component:x}),r.a.createElement(m.a,{path:"/recipes",component:X}),r.a.createElement(m.a,{path:"/locations",component:J}))))),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.804e1ac8.chunk.js.map